<ion-content class="ion-padding" id="content">
  <div class="container">

    <!-- New User -->
    <ng-container *ngIf="!existing&&!forgot">
      <div class="text-center">
        <ion-img src="assets/icon/logo.svg" class="logo"></ion-img>
        <ion-text class="title">FANTASY PICK'EMS</ion-text>
      </div>
      <div class="ion-padding">
        <h4>Create an account</h4>
        <ion-button expand="block" routerLink="register">Register
        </ion-button>
      </div>
      <p class="already" (click)="existing=true">Already have an account?</p>
    </ng-container>

    <!-- Existing User -->
    <ng-container *ngIf="existing&&!forgot">
      <div class="text-center">
        <ion-img src="assets/icon/logo.svg" class="logo"></ion-img>
        <ion-text class="title">FANTASY PICK'EMS</ion-text>
      </div>
      <form #loginForm="ngForm" (ngSubmit)="login()">
        <div class="ion-padding ion-margin-top">
          <ion-input type="email" placeholder="Email*" [(ngModel)]="model.email" name="email" required>
          </ion-input>
          <!-- <p class="error" *ngIf="email.touched && email.hasError('email')">Invalid email</p>
        <p class="error" *ngIf="email.touched && email.hasError('required')">Email address is required</p> -->
          <ion-input placeholder="Password*" type="password" [(ngModel)]="model.password" name="password" required
            (keyup.enter)="login()">
          </ion-input>
        </div>
        <!--   -->
        <!-- #pswd="ngModel" -->
        <!-- minlength="6"  pattern="[A-Za-z0-9]*([a-zA-Z]+[0-9]+|[0-9]+[a-zA-Z]+)" -->
        <!-- </ion-input> -->
        <!-- <p class="error" *ngIf="pswd.touched && pswd.hasError('required')">Password is required</p> -->
        <ion-item class="clear" lines="none">
          <ion-checkbox slot="start" [(ngModel)]="model.remember" name="remember"></ion-checkbox>
          <ion-label>Remember Me</ion-label>
        </ion-item>
        <div class="ion-padding text-center">
          <ion-spinner *ngIf="loading" name="crescent"></ion-spinner>
          <ion-button *ngIf="!loading" type="submit" expand="block">Log in
          </ion-button>
        </div>
      </form>
      <ng-container *ngIf="!loading">
        <ion-grid class="ion-padding-top">
          <ion-row class="ion-align-items-center ion-padding-horizontal">
            <ion-col class="white-line"></ion-col>
            <ion-col class="or">Or</ion-col>
            <ion-col class="white-line"></ion-col>
          </ion-row>
          <ion-row>
            <ion-col class="ion-no-padding">
              <ion-button expand="block" class="s-buttons google" (click)="signInWithGoogle()">
                <img src="assets/google.svg">
                <!-- <span>Sign in with Google</span> -->
              </ion-button>
            </ion-col>
            <ion-col class="ion-no-padding">
              <ion-button expand="block" class="s-buttons fb" (click)="signInWithFacebook()">
                <ion-icon name="logo-facebook"></ion-icon>
                <!-- <span>Sign in with Facebook</span> -->
              </ion-button>
            </ion-col>
            <ion-col class="ion-no-padding apple-col">
              <ion-button expand="block" class="s-buttons apple" (click)="singInWithApple()">
                <ion-icon name="logo-apple"></ion-icon>
                <!-- <span>Sign in with Apple</span> -->
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
        <p class="forgot" (click)="forgot=true">Forgot Password?</p>
        <p class="another" routerLink="register">Register Another User</p>
      </ng-container>
    </ng-container>


    <ng-container *ngIf="forgot">
      <div class="text-center">
        <ion-img src="assets/icon/logo.svg" class="logo"></ion-img>
        <ion-text class="title">FANTASY PICK'EMS</ion-text>
      </div>
      <form #loginForm="ngForm" class="ion-padding-vertical" (ngSubmit)="resetPassword(email)">
        <ion-label>Email Address</ion-label>
        <ion-input type="email" placeholder="Email" [(ngModel)]="model.email" name="email" #email="ngModel" required
          email>
        </ion-input>
        <p class="error" *ngIf="email.touched && email.hasError('email')">Invalid email</p>
        <p class="error" *ngIf="email.touched && email.hasError('required')">Email address is required</p>
        <ion-button type="submit" expand="block">Send Email</ion-button>
      </form>
    </ng-container>
  </div>
</ion-content>